{"ast":null,"code":"import { programReducer } from './programReducer';\nimport { workoutReducer } from './workoutReducer';\nimport { activeWorkoutReducer } from './activeWorkoutReducer.js';\nimport { initialState } from './initialState';\nimport { actionTypes } from '../actions/actionTypes';\nconst combineReducers = reducers => {\n  return (state = {}, action) => {\n    let hasChanged = false;\n    const nextState = Object.keys(reducers).reduce((acc, key) => {\n      const reducer = reducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n      return {\n        ...acc,\n        [key]: nextStateForKey\n      };\n    }, {});\n    return hasChanged ? nextState : state;\n  };\n};\nconst rootReducer = combineReducers({\n  programs: programReducer,\n  workouts: workoutReducer,\n  activeWorkout: activeWorkoutReducer\n});\nconst mainReducer = (state, action) => {\n  if (action.type === actionTypes.CLEAR_PROGRAM) {\n    return initialState;\n  }\n  if (action.type === actionTypes.TOGGLE_EXERCISE_SELECTION) {\n    const activeWorkoutId = state.activeWorkout;\n    if (!activeWorkoutId) {\n      console.error('No active workout when trying to toggle exercise');\n      return state;\n    }\n    return {\n      ...state,\n      workouts: {\n        ...state.workouts,\n        [activeWorkoutId]: workoutReducer(state.workouts[activeWorkoutId], action)\n      }\n    };\n  }\n  return rootReducer(state, action);\n};\nexport default mainReducer;","map":{"version":3,"names":["programReducer","workoutReducer","activeWorkoutReducer","initialState","actionTypes","combineReducers","reducers","state","action","hasChanged","nextState","Object","keys","reduce","acc","key","reducer","previousStateForKey","nextStateForKey","rootReducer","programs","workouts","activeWorkout","mainReducer","type","CLEAR_PROGRAM","TOGGLE_EXERCISE_SELECTION","activeWorkoutId","console","error"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/rootReducer.js"],"sourcesContent":["import { programReducer } from './programReducer';\nimport { workoutReducer } from './workoutReducer';\nimport { activeWorkoutReducer } from './activeWorkoutReducer.js';\nimport { initialState } from './initialState';\nimport { actionTypes } from '../actions/actionTypes';\n\nconst combineReducers = reducers => {\n  return (state = {}, action) => {\n    let hasChanged = false;\n    const nextState = Object.keys(reducers).reduce((acc, key) => {\n      const reducer = reducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n      return { ...acc, [key]: nextStateForKey };\n    }, {});\n    return hasChanged ? nextState : state;\n  };\n};\n\nconst rootReducer = combineReducers({\n  programs: programReducer,\n  workouts: workoutReducer,\n  activeWorkout: activeWorkoutReducer\n});\n\nconst mainReducer = (state, action) => {\n  if (action.type === actionTypes.CLEAR_PROGRAM) {\n    return initialState;\n  }\n\n  if (action.type === actionTypes.TOGGLE_EXERCISE_SELECTION) {\n    const activeWorkoutId = state.activeWorkout;\n    if (!activeWorkoutId) {\n      console.error('No active workout when trying to toggle exercise');\n      return state;\n    }\n\n    return {\n      ...state,\n      workouts: {\n        ...state.workouts,\n        [activeWorkoutId]: workoutReducer(\n          state.workouts[activeWorkoutId],\n          action\n        )\n      }\n    };\n  }\n\n  return rootReducer(state, action);\n};\n\nexport default mainReducer;\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,oBAAoB,QAAQ,2BAA2B;AAChE,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,WAAW,QAAQ,wBAAwB;AAEpD,MAAMC,eAAe,GAAGC,QAAQ,IAAI;EAClC,OAAO,CAACC,KAAK,GAAG,CAAC,CAAC,EAAEC,MAAM,KAAK;IAC7B,IAAIC,UAAU,GAAG,KAAK;IACtB,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAI,CAACN,QAAQ,CAAC,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;MAC3D,MAAMC,OAAO,GAAGV,QAAQ,CAACS,GAAG,CAAC;MAC7B,MAAME,mBAAmB,GAAGV,KAAK,CAACQ,GAAG,CAAC;MACtC,MAAMG,eAAe,GAAGF,OAAO,CAACC,mBAAmB,EAAET,MAAM,CAAC;MAC5DC,UAAU,GAAGA,UAAU,IAAIS,eAAe,KAAKD,mBAAmB;MAClE,OAAO;QAAE,GAAGH,GAAG;QAAE,CAACC,GAAG,GAAGG;MAAgB,CAAC;IAC3C,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,OAAOT,UAAU,GAAGC,SAAS,GAAGH,KAAK;EACvC,CAAC;AACH,CAAC;AAED,MAAMY,WAAW,GAAGd,eAAe,CAAC;EAClCe,QAAQ,EAAEpB,cAAc;EACxBqB,QAAQ,EAAEpB,cAAc;EACxBqB,aAAa,EAAEpB;AACjB,CAAC,CAAC;AAEF,MAAMqB,WAAW,GAAGA,CAAChB,KAAK,EAAEC,MAAM,KAAK;EACrC,IAAIA,MAAM,CAACgB,IAAI,KAAKpB,WAAW,CAACqB,aAAa,EAAE;IAC7C,OAAOtB,YAAY;EACrB;EAEA,IAAIK,MAAM,CAACgB,IAAI,KAAKpB,WAAW,CAACsB,yBAAyB,EAAE;IACzD,MAAMC,eAAe,GAAGpB,KAAK,CAACe,aAAa;IAC3C,IAAI,CAACK,eAAe,EAAE;MACpBC,OAAO,CAACC,KAAK,CAAC,kDAAkD,CAAC;MACjE,OAAOtB,KAAK;IACd;IAEA,OAAO;MACL,GAAGA,KAAK;MACRc,QAAQ,EAAE;QACR,GAAGd,KAAK,CAACc,QAAQ;QACjB,CAACM,eAAe,GAAG1B,cAAc,CAC/BM,KAAK,CAACc,QAAQ,CAACM,eAAe,CAAC,EAC/BnB,MACF;MACF;IACF,CAAC;EACH;EAEA,OAAOW,WAAW,CAACZ,KAAK,EAAEC,MAAM,CAAC;AACnC,CAAC;AAED,eAAee,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}