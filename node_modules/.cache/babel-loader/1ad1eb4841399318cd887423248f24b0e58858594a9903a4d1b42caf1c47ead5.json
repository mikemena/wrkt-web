{"ast":null,"code":"function programReducer(state, action) {\n  var _state$program$workou;\n  console.log('Reducer called with action:', action.type);\n  console.log('Current state before reduction:', JSON.stringify(state, null, 2));\n  console.log('Action:', JSON.stringify(action, null, 2));\n  switch (action.type) {\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          selected: true\n        }\n      };\n    case 'UPDATE_PROGRAM':\n      console.log('UPDATE_PROGRAM action received');\n      console.log('Current state:', state);\n      console.log('Action payload:', action.payload);\n      return {\n        ...state,\n        program: action.payload\n      };\n    case 'SET_SELECTED_WORKOUT_ID':\n      return {\n        ...state,\n        selectedWorkoutId: action.payload\n      };\n    case 'UPDATE_PROGRAM_SUCCESS':\n      const updatedProgram = action.payload;\n      if (!updatedProgram || !updatedProgram.id) {\n        console.error('Invalid program data received:', updatedProgram);\n        return state;\n      }\n      return {\n        ...state,\n        program: updatedProgram\n      };\n    case 'UPDATE_PROGRAM_WORKOUTS':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w => w.id === action.payload.workout.id ? action.payload.workout : w)\n        }\n      };\n    case 'ADD_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: [...state.program.workouts, action.payload]\n        },\n        selectedWorkoutId: action.payload.id\n      };\n    case 'DELETE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.filter(w => w.id !== action.payload)\n        },\n        selectedWorkoutId: ((_state$program$workou = state.program.workouts[0]) === null || _state$program$workou === void 0 ? void 0 : _state$program$workou.id) || null\n      };\n    case 'UPDATE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w => w.id === action.payload.id ? action.payload : w)\n        }\n      };\n    default:\n      return state;\n  }\n}\nexport { programReducer };","map":{"version":3,"names":["programReducer","state","action","_state$program$workou","console","log","type","JSON","stringify","program","selected","payload","selectedWorkoutId","updatedProgram","id","error","workouts","map","w","workout","filter"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/programReducer.js"],"sourcesContent":["function programReducer(state, action) {\n  console.log('Reducer called with action:', action.type);\n  console.log(\n    'Current state before reduction:',\n    JSON.stringify(state, null, 2)\n  );\n  console.log('Action:', JSON.stringify(action, null, 2));\n\n  switch (action.type) {\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          selected: true\n        }\n      };\n\n    case 'UPDATE_PROGRAM':\n      console.log('UPDATE_PROGRAM action received');\n      console.log('Current state:', state);\n      console.log('Action payload:', action.payload);\n      return {\n        ...state,\n        program: action.payload\n      };\n\n    case 'SET_SELECTED_WORKOUT_ID':\n      return {\n        ...state,\n        selectedWorkoutId: action.payload\n      };\n\n    case 'UPDATE_PROGRAM_SUCCESS':\n      const updatedProgram = action.payload;\n      if (!updatedProgram || !updatedProgram.id) {\n        console.error('Invalid program data received:', updatedProgram);\n        return state;\n      }\n      return {\n        ...state,\n        program: updatedProgram\n      };\n\n    case 'UPDATE_PROGRAM_WORKOUTS':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w =>\n            w.id === action.payload.workout.id ? action.payload.workout : w\n          )\n        }\n      };\n\n    case 'ADD_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: [...state.program.workouts, action.payload]\n        },\n        selectedWorkoutId: action.payload.id\n      };\n\n    case 'DELETE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.filter(w => w.id !== action.payload)\n        },\n        selectedWorkoutId: state.program.workouts[0]?.id || null\n      };\n\n    case 'UPDATE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w =>\n            w.id === action.payload.id ? action.payload : w\n          )\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport { programReducer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}