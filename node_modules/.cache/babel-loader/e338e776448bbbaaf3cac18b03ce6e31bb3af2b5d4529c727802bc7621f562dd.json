{"ast":null,"code":"import { programReducer } from './programReducer';\nimport { workoutReducer } from './workoutReducer';\nimport { currentProgram } from './initialState';\nimport { actionTypes } from '../actions/actionTypes';\nconst combineReducers = reducers => {\n  return (state = {}, action) => {\n    let hasChanged = false;\n    const nextState = Object.keys(reducers).reduce((acc, key) => {\n      const reducer = reducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n      return {\n        ...acc,\n        [key]: nextStateForKey\n      };\n    }, {});\n    return hasChanged ? nextState : state;\n  };\n};\nconst rootReducer = combineReducers({\n  programx: programReducer,\n  workout: workoutReducer\n});\nconst mainReducer = (state, action) => {\n  if (action.type === actionTypes.CLEAR_PROGRAM) {\n    return currentProgram;\n  }\n  if (action.type === actionTypes.TOGGLE_EXERCISE_SELECTION) {\n    const activeWorkoutId = state.activeWorkout;\n    if (!activeWorkoutId) {\n      console.error('No active workout when trying to toggle exercise');\n      return state;\n    }\n    return {\n      ...state,\n      workouts: {\n        ...state.workouts,\n        [activeWorkoutId]: workoutReducer(state.workouts[activeWorkoutId], action)\n      }\n    };\n  }\n  return rootReducer(state, action);\n};\nexport default mainReducer;","map":{"version":3,"names":["programReducer","workoutReducer","currentProgram","actionTypes","combineReducers","reducers","state","action","hasChanged","nextState","Object","keys","reduce","acc","key","reducer","previousStateForKey","nextStateForKey","rootReducer","programx","workout","mainReducer","type","CLEAR_PROGRAM","TOGGLE_EXERCISE_SELECTION","activeWorkoutId","activeWorkout","console","error","workouts"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/rootReducer.js"],"sourcesContent":["import { programReducer } from './programReducer';\nimport { workoutReducer } from './workoutReducer';\nimport { currentProgram } from './initialState';\nimport { actionTypes } from '../actions/actionTypes';\n\nconst combineReducers = reducers => {\n  return (state = {}, action) => {\n    let hasChanged = false;\n    const nextState = Object.keys(reducers).reduce((acc, key) => {\n      const reducer = reducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n      return { ...acc, [key]: nextStateForKey };\n    }, {});\n    return hasChanged ? nextState : state;\n  };\n};\n\nconst rootReducer = combineReducers({\n  programx: programReducer,\n  workout: workoutReducer\n});\n\nconst mainReducer = (state, action) => {\n  if (action.type === actionTypes.CLEAR_PROGRAM) {\n    return currentProgram;\n  }\n\n  if (action.type === actionTypes.TOGGLE_EXERCISE_SELECTION) {\n    const activeWorkoutId = state.activeWorkout;\n    if (!activeWorkoutId) {\n      console.error('No active workout when trying to toggle exercise');\n      return state;\n    }\n\n    return {\n      ...state,\n      workouts: {\n        ...state.workouts,\n        [activeWorkoutId]: workoutReducer(\n          state.workouts[activeWorkoutId],\n          action\n        )\n      }\n    };\n  }\n\n  return rootReducer(state, action);\n};\n\nexport default mainReducer;\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,SAASC,WAAW,QAAQ,wBAAwB;AAEpD,MAAMC,eAAe,GAAGC,QAAQ,IAAI;EAClC,OAAO,CAACC,KAAK,GAAG,CAAC,CAAC,EAAEC,MAAM,KAAK;IAC7B,IAAIC,UAAU,GAAG,KAAK;IACtB,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAI,CAACN,QAAQ,CAAC,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;MAC3D,MAAMC,OAAO,GAAGV,QAAQ,CAACS,GAAG,CAAC;MAC7B,MAAME,mBAAmB,GAAGV,KAAK,CAACQ,GAAG,CAAC;MACtC,MAAMG,eAAe,GAAGF,OAAO,CAACC,mBAAmB,EAAET,MAAM,CAAC;MAC5DC,UAAU,GAAGA,UAAU,IAAIS,eAAe,KAAKD,mBAAmB;MAClE,OAAO;QAAE,GAAGH,GAAG;QAAE,CAACC,GAAG,GAAGG;MAAgB,CAAC;IAC3C,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,OAAOT,UAAU,GAAGC,SAAS,GAAGH,KAAK;EACvC,CAAC;AACH,CAAC;AAED,MAAMY,WAAW,GAAGd,eAAe,CAAC;EAClCe,QAAQ,EAAEnB,cAAc;EACxBoB,OAAO,EAAEnB;AACX,CAAC,CAAC;AAEF,MAAMoB,WAAW,GAAGA,CAACf,KAAK,EAAEC,MAAM,KAAK;EACrC,IAAIA,MAAM,CAACe,IAAI,KAAKnB,WAAW,CAACoB,aAAa,EAAE;IAC7C,OAAOrB,cAAc;EACvB;EAEA,IAAIK,MAAM,CAACe,IAAI,KAAKnB,WAAW,CAACqB,yBAAyB,EAAE;IACzD,MAAMC,eAAe,GAAGnB,KAAK,CAACoB,aAAa;IAC3C,IAAI,CAACD,eAAe,EAAE;MACpBE,OAAO,CAACC,KAAK,CAAC,kDAAkD,CAAC;MACjE,OAAOtB,KAAK;IACd;IAEA,OAAO;MACL,GAAGA,KAAK;MACRuB,QAAQ,EAAE;QACR,GAAGvB,KAAK,CAACuB,QAAQ;QACjB,CAACJ,eAAe,GAAGxB,cAAc,CAC/BK,KAAK,CAACuB,QAAQ,CAACJ,eAAe,CAAC,EAC/BlB,MACF;MACF;IACF,CAAC;EACH;EAEA,OAAOW,WAAW,CAACZ,KAAK,EAAEC,MAAM,CAAC;AACnC,CAAC;AAED,eAAec,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}