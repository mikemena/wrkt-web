{"ast":null,"code":"function programReducer(state = initialState.program, action) {\n  var _state$program$workou;\n  console.log('Reducer called with action:', action.type);\n  console.log('Current state before reduction:', JSON.stringify(state, null, 2));\n  console.log('Action:', JSON.stringify(action, null, 2));\n  switch (action.type) {\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          selected: true\n        }\n      };\n    case 'UPDATE_PROGRAM':\n      console.log('UPDATE_PROGRAM action received');\n      console.log('Current state:', state);\n      console.log('Action payload:', action.payload);\n      return {\n        ...state,\n        program: action.payload\n      };\n    case 'SET_SELECTED_WORKOUT_ID':\n      return {\n        ...state,\n        selectedWorkoutId: action.payload\n      };\n    case 'UPDATE_PROGRAM_SUCCESS':\n      const updatedProgram = action.payload;\n      if (!updatedProgram || !updatedProgram.id) {\n        console.error('Invalid program data received:', updatedProgram);\n        return state;\n      }\n      return {\n        ...state,\n        program: updatedProgram\n      };\n    case 'UPDATE_PROGRAM_WORKOUTS':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w => w.id === action.payload.workout.id ? action.payload.workout : w)\n        }\n      };\n    case 'ADD_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: [...state.program.workouts, action.payload]\n        },\n        selectedWorkoutId: action.payload.id\n      };\n    case 'DELETE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.filter(w => w.id !== action.payload)\n        },\n        selectedWorkoutId: ((_state$program$workou = state.program.workouts[0]) === null || _state$program$workou === void 0 ? void 0 : _state$program$workou.id) || null\n      };\n    case 'UPDATE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w => w.id === action.payload.id ? action.payload : w)\n        }\n      };\n    default:\n      return state;\n  }\n}\nexport { programReducer };","map":{"version":3,"names":["programReducer","state","initialState","program","action","_state$program$workou","console","log","type","JSON","stringify","selected","payload","selectedWorkoutId","updatedProgram","id","error","workouts","map","w","workout","filter"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/programReducer.js"],"sourcesContent":["function programReducer(state = initialState.program, action) {\n  console.log('Reducer called with action:', action.type);\n  console.log(\n    'Current state before reduction:',\n    JSON.stringify(state, null, 2)\n  );\n  console.log('Action:', JSON.stringify(action, null, 2));\n\n  switch (action.type) {\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          selected: true\n        }\n      };\n\n    case 'UPDATE_PROGRAM':\n      console.log('UPDATE_PROGRAM action received');\n      console.log('Current state:', state);\n      console.log('Action payload:', action.payload);\n      return {\n        ...state,\n        program: action.payload\n      };\n\n    case 'SET_SELECTED_WORKOUT_ID':\n      return {\n        ...state,\n        selectedWorkoutId: action.payload\n      };\n\n    case 'UPDATE_PROGRAM_SUCCESS':\n      const updatedProgram = action.payload;\n      if (!updatedProgram || !updatedProgram.id) {\n        console.error('Invalid program data received:', updatedProgram);\n        return state;\n      }\n      return {\n        ...state,\n        program: updatedProgram\n      };\n\n    case 'UPDATE_PROGRAM_WORKOUTS':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w =>\n            w.id === action.payload.workout.id ? action.payload.workout : w\n          )\n        }\n      };\n\n    case 'ADD_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: [...state.program.workouts, action.payload]\n        },\n        selectedWorkoutId: action.payload.id\n      };\n\n    case 'DELETE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.filter(w => w.id !== action.payload)\n        },\n        selectedWorkoutId: state.program.workouts[0]?.id || null\n      };\n\n    case 'UPDATE_WORKOUT':\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          workouts: state.program.workouts.map(w =>\n            w.id === action.payload.id ? action.payload : w\n          )\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport { programReducer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}