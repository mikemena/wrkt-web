{"ast":null,"code":"import { programInitialState } from './initialState';\nfunction programReducer(state = programInitialState.programs, action) {\n  switch (action.type) {\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'ADD_PROGRAM':\n    case 'UPDATE_PROGRAM':\n    case 'UPDATE_PROGRAM_SUCCESS':\n      console.log('Updating program in reducer:', action.payload);\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'UPDATE_PROGRAM_WORKOUT':\n      return {\n        ...state,\n        selectedProgram: {\n          ...state.selectedProgram,\n          workouts: state.selectedProgram.workouts.map(workout => workout.id === action.payload.id ? action.payload : workout)\n        }\n      };\n    case 'DELETE_PROGRAM':\n      {\n        const {\n          programId\n        } = action.payload;\n        if (!programId) {\n          console.error('Invalid payload for DELETE_PROGRAM', action.payload);\n          return state;\n        }\n        const newPrograms = {\n          ...state.programs\n        };\n        delete newPrograms[programId];\n        const newState = {\n          ...state,\n          programs: newPrograms\n        };\n        return newState;\n      }\n    default:\n      return state;\n  }\n}\nexport { programReducer };","map":{"version":3,"names":["programInitialState","programReducer","state","programs","action","type","payload","console","log","selectedProgram","workouts","map","workout","id","programId","error","newPrograms","newState"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/programReducer.js"],"sourcesContent":["import { programInitialState } from './initialState';\n\nfunction programReducer(state = programInitialState.programs, action) {\n  switch (action.type) {\n    case 'SET_SELECTED_PROGRAM':\n      return { ...state, ...action.payload };\n\n    case 'ADD_PROGRAM':\n    case 'UPDATE_PROGRAM':\n    case 'UPDATE_PROGRAM_SUCCESS':\n      console.log('Updating program in reducer:', action.payload);\n      return {\n        ...state,\n        ...action.payload\n      };\n\n    case 'UPDATE_PROGRAM_WORKOUT':\n      return {\n        ...state,\n        selectedProgram: {\n          ...state.selectedProgram,\n          workouts: state.selectedProgram.workouts.map(workout =>\n            workout.id === action.payload.id ? action.payload : workout\n          )\n        }\n      };\n\n    case 'DELETE_PROGRAM': {\n      const { programId } = action.payload;\n\n      if (!programId) {\n        console.error('Invalid payload for DELETE_PROGRAM', action.payload);\n        return state;\n      }\n\n      const newPrograms = { ...state.programs };\n      delete newPrograms[programId];\n\n      const newState = {\n        ...state,\n        programs: newPrograms\n      };\n\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport { programReducer };\n"],"mappings":"AAAA,SAASA,mBAAmB,QAAQ,gBAAgB;AAEpD,SAASC,cAAcA,CAACC,KAAK,GAAGF,mBAAmB,CAACG,QAAQ,EAAEC,MAAM,EAAE;EACpE,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,sBAAsB;MACzB,OAAO;QAAE,GAAGH,KAAK;QAAE,GAAGE,MAAM,CAACE;MAAQ,CAAC;IAExC,KAAK,aAAa;IAClB,KAAK,gBAAgB;IACrB,KAAK,wBAAwB;MAC3BC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEJ,MAAM,CAACE,OAAO,CAAC;MAC3D,OAAO;QACL,GAAGJ,KAAK;QACR,GAAGE,MAAM,CAACE;MACZ,CAAC;IAEH,KAAK,wBAAwB;MAC3B,OAAO;QACL,GAAGJ,KAAK;QACRO,eAAe,EAAE;UACf,GAAGP,KAAK,CAACO,eAAe;UACxBC,QAAQ,EAAER,KAAK,CAACO,eAAe,CAACC,QAAQ,CAACC,GAAG,CAACC,OAAO,IAClDA,OAAO,CAACC,EAAE,KAAKT,MAAM,CAACE,OAAO,CAACO,EAAE,GAAGT,MAAM,CAACE,OAAO,GAAGM,OACtD;QACF;MACF,CAAC;IAEH,KAAK,gBAAgB;MAAE;QACrB,MAAM;UAAEE;QAAU,CAAC,GAAGV,MAAM,CAACE,OAAO;QAEpC,IAAI,CAACQ,SAAS,EAAE;UACdP,OAAO,CAACQ,KAAK,CAAC,oCAAoC,EAAEX,MAAM,CAACE,OAAO,CAAC;UACnE,OAAOJ,KAAK;QACd;QAEA,MAAMc,WAAW,GAAG;UAAE,GAAGd,KAAK,CAACC;QAAS,CAAC;QACzC,OAAOa,WAAW,CAACF,SAAS,CAAC;QAE7B,MAAMG,QAAQ,GAAG;UACf,GAAGf,KAAK;UACRC,QAAQ,EAAEa;QACZ,CAAC;QAED,OAAOC,QAAQ;MACjB;IAEA;MACE,OAAOf,KAAK;EAChB;AACF;AAEA,SAASD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}