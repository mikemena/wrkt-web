{"ast":null,"code":"var _jsxFileName = \"/Users/mike/Documents/purple.nosync/pow/web-frontend/src/pages/programs/main/programs.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Program from '../../../components/Program/Program';\nimport './programs.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProgramPage = () => {\n  _s();\n  const [programs, setPrograms] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch('http://localhost:9025/api/programs/2').then(response => response.json()).then(data => {\n      setPrograms(data);\n      setIsLoading(false);\n    }).catch(error => {\n      console.error('Failed to fetch programs:', error);\n      setIsLoading(false); // Finish loading even if there was an error\n    });\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }, this);\n  }\n  const handleCreateProgram = () => {\n    // Redirect to the create program page\n    navigate('/create-program');\n  };\n  const handleDelete = async program_id => {\n    try {\n      const response = await fetch(`http://localhost:9025/api/programs/${program_id}`, {\n        method: 'DELETE'\n      });\n      if (response.status === 204) {\n        setPrograms(currentPrograms => currentPrograms.filter(program => program.program_id !== program_id));\n      }\n    } catch (error) {\n      console.error('Failed to delete program:', error);\n    }\n  };\n  const handleEdit = program => {\n    navigate(`/edit-program/${program.program_id}`, {\n      state: {\n        program\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"programs\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"program-header-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"My Programs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"create-program-btn\",\n        onClick: handleCreateProgram,\n        children: \"create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"programs-container\",\n      children: programs.map(program => /*#__PURE__*/_jsxDEV(Program, {\n        program_id: program.program_id,\n        name: program.name,\n        main_goal: program.main_goal,\n        day_type: program.workout_day_type,\n        days_per_week: program.days_per_week,\n        program_duration: program.program_duration,\n        workouts: program.workouts,\n        onDelete: handleDelete,\n        onEdit: handleEdit\n      }, program.program_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(ProgramPage, \"rlL4s7AosDut3e/d4EpMgF9bo1Y=\", false, function () {\n  return [useNavigate];\n});\n_c = ProgramPage;\nexport default ProgramPage;\nvar _c;\n$RefreshReg$(_c, \"ProgramPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Program","jsxDEV","_jsxDEV","ProgramPage","_s","programs","setPrograms","isLoading","setIsLoading","navigate","fetch","then","response","json","data","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","handleCreateProgram","handleDelete","program_id","method","status","currentPrograms","filter","program","handleEdit","state","className","id","onClick","map","name","main_goal","day_type","workout_day_type","days_per_week","program_duration","workouts","onDelete","onEdit","_c","$RefreshReg$"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/pages/programs/main/programs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Program from '../../../components/Program/Program';\n\nimport './programs.css';\n\nconst ProgramPage = () => {\n  const [programs, setPrograms] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetch('http://localhost:9025/api/programs/2')\n      .then(response => response.json())\n      .then(data => {\n        setPrograms(data);\n        setIsLoading(false);\n      })\n      .catch(error => {\n        console.error('Failed to fetch programs:', error);\n        setIsLoading(false); // Finish loading even if there was an error\n      });\n  }, []);\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  const handleCreateProgram = () => {\n    // Redirect to the create program page\n    navigate('/create-program');\n  };\n\n  const handleDelete = async program_id => {\n    try {\n      const response = await fetch(\n        `http://localhost:9025/api/programs/${program_id}`,\n        {\n          method: 'DELETE'\n        }\n      );\n      if (response.status === 204) {\n        setPrograms(currentPrograms =>\n          currentPrograms.filter(program => program.program_id !== program_id)\n        );\n      }\n    } catch (error) {\n      console.error('Failed to delete program:', error);\n    }\n  };\n\n  const handleEdit = program => {\n    navigate(`/edit-program/${program.program_id}`, { state: { program } });\n  };\n\n  return (\n    <div className='programs'>\n      <div id='program-header-container'>\n        <h1 className='page-title'>My Programs</h1>\n\n        <div id='create-program-btn' onClick={handleCreateProgram}>\n          create\n        </div>\n      </div>\n      <div id='programs-container'>\n        {programs.map(program => (\n          <Program\n            program_id={program.program_id}\n            key={program.program_id}\n            name={program.name}\n            main_goal={program.main_goal}\n            day_type={program.workout_day_type}\n            days_per_week={program.days_per_week}\n            program_duration={program.program_duration}\n            workouts={program.workouts}\n            onDelete={handleDelete}\n            onEdit={handleEdit}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProgramPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}