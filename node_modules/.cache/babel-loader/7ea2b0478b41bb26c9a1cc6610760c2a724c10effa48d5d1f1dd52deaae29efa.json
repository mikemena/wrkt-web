{"ast":null,"code":"function programReducer(state, action) {\n  switch (action.type) {\n    case 'SET_PROGRAMS':\n      {\n        return {\n          ...state,\n          programs: action.payload.programs || {},\n          workouts: action.payload.workouts || {},\n          activeWorkout: action.payload.activeWorkout || null,\n          selectedProgram: action.payload.selectedProgram || null\n        };\n      }\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        selectedProgram: action.payload.program ? action.payload.program.id : null,\n        program: action.payload.program || null,\n        programs: action.payload.programs || {},\n        workouts: action.payload.workouts || {}\n      };\n    case 'DESELECT_PROGRAM':\n      {\n        const {\n          programId\n        } = action.payload;\n        if (!state.program || state.program.id !== programId) {\n          console.error('Program not found or invalid payload:', action.payload);\n          return state;\n        }\n        return {\n          ...state,\n          program: {\n            ...state.program,\n            selected: false\n          },\n          selectedProgram: null\n        };\n      }\n    case 'ADD_PROGRAM':\n      const {\n        id,\n        name,\n        program_duration,\n        duration_unit,\n        days_per_week,\n        main_goal\n      } = action.payload;\n      if (!state.program || state.program.id !== id) {\n        console.error('Program not found:', id);\n        return state;\n      }\n      const updatedProgram = {\n        ...state.program,\n        name,\n        program_duration,\n        duration_unit,\n        days_per_week,\n        main_goal\n      };\n      return {\n        ...state,\n        program: updatedProgram\n      };\n    case 'UPDATE_PROGRAM':\n      {\n        const updatedProgram = action.payload;\n        return {\n          ...state,\n          program: {\n            ...state.program,\n            ...updatedProgram\n          }\n        };\n      }\n    case 'UPDATE_PROGRAM_SUCCESS':\n      {\n        const updatedProgram = action.payload;\n        if (!updatedProgram || !updatedProgram.id) {\n          console.error('Invalid program data received:', updatedProgram);\n          return state;\n        }\n        return {\n          ...state,\n          program: {\n            ...state.program,\n            ...updatedProgram\n          },\n          selectedProgram: updatedProgram.id\n        };\n      }\n    case 'DELETE_PROGRAM':\n      {\n        const {\n          programId\n        } = action.payload;\n        if (!programId || state.program.id !== programId) {\n          console.error('Program not found or invalid payload:', action.payload);\n          return state;\n        }\n\n        // Reset the state to remove the program\n        return {\n          ...state,\n          program: null,\n          selectedProgram: null,\n          activeWorkout: null\n        };\n      }\n    default:\n      return state;\n  }\n}\nexport { programReducer };","map":{"version":3,"names":["programReducer","state","action","type","programs","payload","workouts","activeWorkout","selectedProgram","program","id","programId","console","error","selected","name","program_duration","duration_unit","days_per_week","main_goal","updatedProgram"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/programReducer.js"],"sourcesContent":["function programReducer(state, action) {\n  switch (action.type) {\n    case 'SET_PROGRAMS': {\n      return {\n        ...state,\n        programs: action.payload.programs || {},\n        workouts: action.payload.workouts || {},\n        activeWorkout: action.payload.activeWorkout || null,\n        selectedProgram: action.payload.selectedProgram || null\n      };\n    }\n\n    case 'SET_SELECTED_PROGRAM':\n      return {\n        ...state,\n        selectedProgram: action.payload.program\n          ? action.payload.program.id\n          : null,\n        program: action.payload.program || null,\n        programs: action.payload.programs || {},\n        workouts: action.payload.workouts || {}\n      };\n\n    case 'DESELECT_PROGRAM': {\n      const { programId } = action.payload;\n\n      if (!state.program || state.program.id !== programId) {\n        console.error('Program not found or invalid payload:', action.payload);\n        return state;\n      }\n\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          selected: false\n        },\n        selectedProgram: null\n      };\n    }\n\n    case 'ADD_PROGRAM':\n      const {\n        id,\n        name,\n        program_duration,\n        duration_unit,\n        days_per_week,\n        main_goal\n      } = action.payload;\n\n      if (!state.program || state.program.id !== id) {\n        console.error('Program not found:', id);\n        return state;\n      }\n\n      const updatedProgram = {\n        ...state.program,\n        name,\n        program_duration,\n        duration_unit,\n        days_per_week,\n        main_goal\n      };\n\n      return {\n        ...state,\n        program: updatedProgram\n      };\n\n    case 'UPDATE_PROGRAM': {\n      const updatedProgram = action.payload;\n\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          ...updatedProgram\n        }\n      };\n    }\n\n    case 'UPDATE_PROGRAM_SUCCESS': {\n      const updatedProgram = action.payload;\n\n      if (!updatedProgram || !updatedProgram.id) {\n        console.error('Invalid program data received:', updatedProgram);\n        return state;\n      }\n\n      return {\n        ...state,\n        program: {\n          ...state.program,\n          ...updatedProgram\n        },\n        selectedProgram: updatedProgram.id\n      };\n    }\n\n    case 'DELETE_PROGRAM': {\n      const { programId } = action.payload;\n\n      if (!programId || state.program.id !== programId) {\n        console.error('Program not found or invalid payload:', action.payload);\n        return state;\n      }\n\n      // Reset the state to remove the program\n      return {\n        ...state,\n        program: null,\n        selectedProgram: null,\n        activeWorkout: null\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport { programReducer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}