{"ast":null,"code":"import { initialState } from './initialState';\nfunction programReducer(state = initialState.programs, action) {\n  switch (action.type) {\n    case 'INITIALIZE_NEW_PROGRAM':\n      return {\n        ...state,\n        programs: {\n          [uuidv4()]: {\n            id: uuidv4(),\n            name: 'New Program',\n            program_duration: 0,\n            days_per_week: 0,\n            main_goal: '',\n            duration_unit: '',\n            workouts: []\n          }\n        },\n        workouts: {}\n      };\n    case 'SET_SELECTED_PROGRAM':\n      const newState = {\n        ...state,\n        selectedProgram: action.payload\n      };\n      return newState;\n    case 'ADD_PROGRAM':\n      const {\n        id,\n        name,\n        program_duration,\n        duration_unit,\n        days_per_week,\n        main_goal\n      } = action.payload;\n      if (!state[id]) {\n        console.error('Program not found:', id);\n        return state; // Return the current state if the program ID does not exist.\n      }\n      const updatedState = {\n        ...state,\n        [id]: {\n          ...state[id],\n          // Spread the existing program details\n          name,\n          program_duration,\n          duration_unit,\n          days_per_week,\n          main_goal\n        }\n      };\n      return updatedState;\n    case 'UPDATE_PROGRAM':\n      {\n        const updatedProgram = action.payload;\n        return {\n          ...state,\n          selectedProgram: updatedProgram,\n          [updatedProgram.id]: updatedProgram\n        };\n      }\n    case 'UPDATE_PROGRAM_SUCCESS':\n      {\n        const updatedProgram = action.payload;\n        if (!updatedProgram || !updatedProgram.id) {\n          console.error('Invalid program data received:', updatedProgram);\n          return state;\n        }\n        const updatedState = {\n          ...state,\n          [updatedProgram.id]: updatedProgram,\n          selectedProgram: updatedProgram\n        };\n        return updatedState;\n      }\n    case 'UPDATE_PROGRAM_WORKOUT':\n      if (!state.selectedProgram) {\n        console.warn('No selected program found when updating workout');\n        return state;\n      }\n      return {\n        ...state,\n        selectedProgram: {\n          ...state.selectedProgram,\n          workouts: state.selectedProgram.workouts ? state.selectedProgram.workouts.map(workout => workout.id === action.payload.id ? action.payload : workout) : [action.payload]\n        }\n      };\n    case 'DELETE_PROGRAM':\n      {\n        const {\n          programId\n        } = action.payload;\n        if (!programId) {\n          console.error('Invalid payload for DELETE_PROGRAM', action.payload);\n          return state;\n        }\n        const newPrograms = {\n          ...state.programs\n        };\n        delete newPrograms[programId];\n        const newState = {\n          ...state,\n          programs: newPrograms\n        };\n        return newState;\n      }\n    default:\n      return state;\n  }\n}\nexport { programReducer };","map":{"version":3,"names":["initialState","programReducer","state","programs","action","type","uuidv4","id","name","program_duration","days_per_week","main_goal","duration_unit","workouts","newState","selectedProgram","payload","console","error","updatedState","updatedProgram","warn","map","workout","programId","newPrograms"],"sources":["/Users/mike/Documents/purple.nosync/pow/web-frontend/src/reducers/programReducer.js"],"sourcesContent":["import { initialState } from './initialState';\n\nfunction programReducer(state = initialState.programs, action) {\n  switch (action.type) {\n    case 'INITIALIZE_NEW_PROGRAM':\n      return {\n        ...state,\n        programs: {\n          [uuidv4()]: {\n            id: uuidv4(),\n            name: 'New Program',\n            program_duration: 0,\n            days_per_week: 0,\n            main_goal: '',\n            duration_unit: '',\n            workouts: []\n          }\n        },\n        workouts: {}\n      };\n    case 'SET_SELECTED_PROGRAM':\n      const newState = {\n        ...state,\n        selectedProgram: action.payload\n      };\n\n      return newState;\n\n    case 'ADD_PROGRAM':\n      const {\n        id,\n        name,\n        program_duration,\n        duration_unit,\n        days_per_week,\n        main_goal\n      } = action.payload;\n\n      if (!state[id]) {\n        console.error('Program not found:', id);\n        return state; // Return the current state if the program ID does not exist.\n      }\n\n      const updatedState = {\n        ...state,\n        [id]: {\n          ...state[id], // Spread the existing program details\n          name,\n          program_duration,\n          duration_unit,\n          days_per_week,\n          main_goal\n        }\n      };\n\n      return updatedState;\n\n    case 'UPDATE_PROGRAM': {\n      const updatedProgram = action.payload;\n\n      return {\n        ...state,\n        selectedProgram: updatedProgram,\n        [updatedProgram.id]: updatedProgram\n      };\n    }\n\n    case 'UPDATE_PROGRAM_SUCCESS': {\n      const updatedProgram = action.payload;\n\n      if (!updatedProgram || !updatedProgram.id) {\n        console.error('Invalid program data received:', updatedProgram);\n        return state;\n      }\n\n      const updatedState = {\n        ...state,\n        [updatedProgram.id]: updatedProgram,\n        selectedProgram: updatedProgram\n      };\n\n      return updatedState;\n    }\n\n    case 'UPDATE_PROGRAM_WORKOUT':\n      if (!state.selectedProgram) {\n        console.warn('No selected program found when updating workout');\n        return state;\n      }\n      return {\n        ...state,\n        selectedProgram: {\n          ...state.selectedProgram,\n          workouts: state.selectedProgram.workouts\n            ? state.selectedProgram.workouts.map(workout =>\n                workout.id === action.payload.id ? action.payload : workout\n              )\n            : [action.payload]\n        }\n      };\n\n    case 'DELETE_PROGRAM': {\n      const { programId } = action.payload;\n\n      if (!programId) {\n        console.error('Invalid payload for DELETE_PROGRAM', action.payload);\n        return state;\n      }\n\n      const newPrograms = { ...state.programs };\n      delete newPrograms[programId];\n\n      const newState = {\n        ...state,\n        programs: newPrograms\n      };\n\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport { programReducer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}